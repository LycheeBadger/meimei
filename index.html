<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IELTS Vocabulary Practice</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        background-color: #f4f4f4;
      }
      #quiz-container {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        width: 90%;
        text-align: center;
        margin: 20px;
      }
      h1 {
        font-size: 24px;
        margin-bottom: 20px;
      }
      #question {
        font-size: 18px;
        margin-bottom: 20px;
      }
      #question-zh {
        font-size: 14px;
        color: #555;
        font-style: italic;
        margin-bottom: 20px;
      }
      .option {
        display: block;
        padding: 10px;
        margin: 10px auto;
        width: 90%;
        background: #eee;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        text-align: left;
      }
      .option:hover {
        background: #ddd;
      }
      #feedback {
        margin-top: 20px;
        font-size: 16px;
        color: #333;
      }
      #feedback.green {
        background: #c8e6c9;
        color: #2e7d32;
      }
      #feedback.red {
        background: #ffcdd2;
        color: #c62828;
      }
      #score {
        margin-top: 10px;
        font-size: 16px;
      }
      #next-btn,
      #help-btn {
        margin: 10px;
        padding: 10px 20px;
        background: #28a745;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
      }
      #next-btn:hover,
      #help-btn:hover {
        background: #218838;
      }
    </style>
  </head>
  <body>
    <div id="quiz-container">
      <h1>IELTS Vocabulary Practice</h1>
      <div id="question"></div>
      <div id="options"></div>
      <div id="feedback"></div>
      <div id="score"></div>
      <button id="help-btn">Help</button>
      <button id="next-btn" style="display: none">Next Question</button>
    </div>

    <script>
      let vocabList = [
        {
          question: "What does 'mitigate' mean?",
          questionZh: "‘减轻’ 的意思是什么？",
          options: [
            "To worsen",
            "To reduce or lessen",
            "To ignore",
            "To complicate",
          ],
          optionsZh: ["恶化", "减轻或减少", "忽略", "复杂化"],
          correct: "To reduce or lessen",
          correctZh: "减轻或减少",
          example: "Governments must mitigate the effects of climate change.",
          exampleZh: "政府必须减轻气候变化的影响。",
        },
        {
          question: "Complete: 'Raise ___' (education context).",
          questionZh: "完成句子：在教育背景下，‘提高 ___’。",
          options: ["awareness", "money", "questions", "standards"],
          optionsZh: ["意识", "资金", "问题", "标准"],
          correct: "awareness",
          correctZh: "意识",
          example:
            "Campaigns raise awareness about the importance of education.",
          exampleZh: "活动提高了人们对教育重要性的意识。",
        },
        {
          question: "What does 'sustainable' mean?",
          questionZh: "‘可持续’ 的意思是什么？",
          options: [
            "Short-term",
            "Able to be maintained",
            "Expensive",
            "Unreliable",
          ],
          optionsZh: ["短期的", "可持续的", "昂贵的", "不可靠的"],
          correct: "Able to be maintained",
          correctZh: "可持续的",
          example: "Sustainable energy reduces environmental damage.",
          exampleZh: "可持续能源减少环境损害。",
        },
        {
          question: "What does 'alleviate' mean?",
          questionZh: "‘缓解’ 的意思是什么？",
          options: [
            "To intensify",
            "To relieve or reduce",
            "To create",
            "To measure",
          ],
          optionsZh: ["加剧", "缓解", "创造", "测量"],
          correct: "To relieve or reduce",
          correctZh: "缓解",
          example:
            "Charities work to alleviate poverty in developing countries.",
          exampleZh: "慈善机构致力于缓解发展中国家的贫困。",
        },
        {
          question: "What is the noun form of 'innovate'?",
          questionZh: "‘创新’ 的名词形式是什么？",
          options: ["Innovator", "Innovation", "Innovative", "Invent"],
          optionsZh: ["创新者", "创新", "创新的", "发明"],
          correct: "Innovation",
          correctZh: "创新",
          example: "Innovation drives economic growth.",
          exampleZh: "创新推动经济增长。",
        },
        {
          question: "What does 'exacerbate' mean?",
          questionZh: "‘恶化’ 的意思是什么？",
          options: ["To improve", "To make worse", "To maintain", "To measure"],
          optionsZh: ["改善", "恶化", "维持", "测量"],
          correct: "To make worse",
          correctZh: "恶化",
          example: "Pollution exacerbates health issues.",
          exampleZh: "污染加剧健康问题。",
        },
        {
          question: "Complete: 'Address an ___' (problem context).",
          questionZh: "完成句子：在问题背景下，‘解决 ___’。",
          options: ["issue", "audience", "email", "event"],
          optionsZh: ["问题", "观众", "电子邮件", "事件"],
          correct: "issue",
          correctZh: "问题",
          example: "Governments must address the issue of unemployment.",
          exampleZh: "政府必须解决失业问题。",
        },
        {
          question: "What does 'prevalent' mean?",
          questionZh: "‘普遍’ 的意思是什么？",
          options: ["Rare", "Widespread", "Temporary", "Hidden"],
          optionsZh: ["稀有的", "普遍的", "临时的", "隐藏的"],
          correct: "Widespread",
          correctZh: "普遍的",
          example: "Obesity is prevalent in many developed countries.",
          exampleZh: "肥胖在许多发达国家很普遍。",
        },
        {
          question: "Synonym for 'benefit' in academic writing?",
          questionZh: "学术写作中 ‘优势’ 的同义词是什么？",
          options: ["Drawback", "Advantage", "Cost", "Risk"],
          optionsZh: ["缺点", "优势", "成本", "风险"],
          correct: "Advantage",
          correctZh: "优势",
          example:
            "Recycling offers a significant advantage to the environment.",
          exampleZh: "回收对环境提供了显著的优势。",
        },
        {
          question: "What does 'conservation' mean?",
          questionZh: "‘保护’ 的意思是什么？",
          options: ["Destruction", "Preservation", "Consumption", "Expansion"],
          optionsZh: ["破坏", "保护", "消耗", "扩展"],
          correct: "Preservation",
          correctZh: "保护",
          example: "Conservation efforts protect endangered species.",
          exampleZh: "保护工作保护濒危物种。",
        },
      ];

      let currentQuestion = 0;
      let score = 0;
      let missedQuestions = [];
      let answerSelected = false;

      const questionEl = document.getElementById("question");
      const optionsEl = document.getElementById("options");
      const feedbackEl = document.getElementById("feedback");
      const scoreEl = document.getElementById("score");
      const nextBtn = document.getElementById("next-btn");
      const helpBtn = document.getElementById("help-btn");

      function loadQuestion() {
        if (vocabList.length === 0) {
          questionEl.textContent = "No questions available.";
          optionsEl.innerHTML = "";
          feedbackEl.textContent = "";
          scoreEl.textContent = "";
          nextBtn.style.display = "none";
          helpBtn.style.display = "none";
          return;
        }
        const q = vocabList[currentQuestion];
        questionEl.textContent = q.question;

        // Remove any existing question-zh div
        const existingQuestionZh = document.getElementById("question-zh");
        if (existingQuestionZh) {
          existingQuestionZh.remove();
        }

        optionsEl.innerHTML = "";
        feedbackEl.textContent = "";
        nextBtn.style.display = "none";
        helpBtn.style.display = "inline-block";
        answerSelected = false;

        q.options.forEach((option) => {
          const btn = document.createElement("button");
          btn.className = "option";
          btn.textContent = option;
          btn.onclick = () => checkAnswer(option);
          optionsEl.appendChild(btn);
        });

        scoreEl.textContent = `Score: ${score}/${currentQuestion}`;
      }

      function showChineseTranslations() {
        if (answerSelected) return; // Prevent multiple updates
        const q = vocabList[currentQuestion];

        // Add Chinese question below question
        const questionZhDiv = document.createElement("div");
        questionZhDiv.id = "question-zh";
        questionZhDiv.textContent = q.questionZh || q.question;
        questionEl.insertAdjacentElement("afterend", questionZhDiv);

        // Update options to include Chinese translations
        optionsEl.innerHTML = "";
        q.options.forEach((option, i) => {
          const btn = document.createElement("button");
          btn.className = "option";
          btn.textContent = `${option} (${
            q.optionsZh[i] || "No Chinese translation"
          })`;
          btn.onclick = () => checkAnswer(option);
          btn.disabled =
            optionsEl.querySelectorAll(".option").length > 0 &&
            optionsEl.querySelectorAll(".option")[0].disabled;
          optionsEl.appendChild(btn);
        });

        answerSelected = true;
      }

      function checkAnswer(selected) {
        showChineseTranslations();
        const q = vocabList[currentQuestion];
        if (selected === q.correct) {
          feedbackEl.textContent = `Correct! ${q.example} (${
            q.exampleZh || q.example
          })`;
          feedbackEl.className = "green";
          score++;
        } else {
          feedbackEl.textContent = `Incorrect. The correct answer is "${
            q.correct
          }". ${q.example} (${q.exampleZh || q.example})`;
          feedbackEl.className = "red";
          missedQuestions.push(currentQuestion);
        }
        scoreEl.textContent = `Score: ${score}/${currentQuestion + 1}`;
        optionsEl
          .querySelectorAll(".option")
          .forEach((btn) => (btn.disabled = true));
        nextBtn.style.display = "block";
        helpBtn.style.display = "none";
      }

      helpBtn.onclick = () => {
        showChineseTranslations();
        const q = vocabList[currentQuestion];
        feedbackEl.textContent = `Answer: ${q.correct}. ${q.example} (${
          q.exampleZh || q.example
        })`;
        feedbackEl.className = "";
        missedQuestions.push(currentQuestion);
        optionsEl
          .querySelectorAll(".option")
          .forEach((btn) => (btn.disabled = true));
        nextBtn.style.display = "block";
        helpBtn.style.display = "none";
      };

      nextBtn.onclick = () => {
        currentQuestion++;
        if (currentQuestion < vocabList.length) {
          loadQuestion();
        } else {
          questionEl.textContent = "Quiz Complete!";
          const existingQuestionZh = document.getElementById("question-zh");
          if (existingQuestionZh) {
            existingQuestionZh.remove();
          }
          optionsEl.innerHTML = "";
          feedbackEl.textContent = `Final Score: ${score}/${vocabList.length}. `;
          if (missedQuestions.length > 0) {
            feedbackEl.textContent += `Review these words: ${missedQuestions
              .map((i) => vocabList[i].question.split(" ")[0])
              .join(", ")}.`;
          } else {
            feedbackEl.textContent += "Perfect!";
          }
          feedbackEl.className = "";
          nextBtn.style.display = "none";
          helpBtn.style.display = "none";
        }
      };

      loadQuestion();
    </script>
  </body>
</html>
